mysql_host: db-1.aleke.kz
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34366366306333313663396535663938633466623334356239396462356534626634386266373337
          6464366139666363396637323765373532646636353638370a333936326565663234333637623230
          61363533333831353565373134366263656365313532613536333261383833316130636561353037
          3030373433323433370a343361326565653936343530653630323633623037613566396666343435
          3938


forwarders_IPs: 
  - 1.1.1.1
  - 8.8.8.8
  - 9.9.9.9
  - 9.9.9.10

allowed_IPs:
  - 192.168.42.0/24
  - 127.0.0.0/8
  - 172.17.0.0/16

backup: 192.168.42.156

prometheus_mysqld_exporter: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63333339633630373861373137613931366461353334353038343838366538353761666634393361
          6665646137316436386161646135343738653533623135620a616430356136666434393939363239
          31366262333631646435373636633931653731666662356337643936643136666636383332616361
          3263393430303833360a626437306336663161616664346235326161613934313363323833623230
          3739

password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65383030663062613064323961666530373238663135373830376534626237653861663738646562
          6431663338633565303833636133386533353739373861330a623434363863306631653063646261
          35393038323436373464326634323066646239646132306336353830636337663130346565336362
          6137323636373564630a356333303731353834626133373466313666303363306331393534636336
          6136

backup_mysql_password: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        65383030663062613064323961666530373238663135373830376534626237653861663738646562
        6431663338633565303833636133386533353739373861330a623434363863306631653063646261
        35393038323436373464326634323066646239646132306336353830636337663130346565336362
        6137323636373564630a356333303731353834626133373466313666303363306331393534636336
        6136


nginx_docker_per_vm: 2

domain: aleke.kz

dns_transfer_secret: !vault | 
          $ANSIBLE_VAULT;1.1;AES256
          64623466626566663938373434306261313739383963636335303430333431643035386565613564
          6564303162653530393863373663303962313631663130300a346637323730663962623532636362
          64643037386635323437313038613862323137316666613235633064306435623365383134313631
          3164346661363239330a643461663532353530383233393066303930376137636439373361396134
          64326466366535366165623932653735353362323433353034363432396362393034616261383432
          3236386461333933613132333638386137643764336434306361


dns_update_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65303431316632633162303038316265643933653535373963303062633338303337636535393339
          3831393835626466353934646431613330663334613063650a333934373666623830346561303839
          65323838333438393331383665653163353661356134636364633864346639666535373338356435
          3634386362356566380a356261613933656436396630623639623830633264393734643833323832
          31366238383932646630306332326434383034346663643937303535663963373433323638383065
          3963366365633462373965633736366361393462306431326464

          
prometheus_jobs:
  - name: linux
    targets: "{{ groups['all'] }}"
    port: 9100

  - name: bind9
    targets:
      - ns-1
      - ns-2
      - ns-3
    port: 9119

  - name: mysql
    targets:
      - db-1
      - db-2
    port: 9104
  
  - name: keepalived
    targets:
      - keepalived-1
      - keepalived-2
    port: 9165

  - name: haproxy
    targets:
      - haproxy-1
      - haproxy-2
    port: 9101

  - name: nginx
    targets:
      - nginx
    port: 9113


dns_cnames:
  - cname: ns-1
    real: "{{ groups['dns_servers'][0] }}"

  - cname: ns-2
    real: "{{ groups['dns_servers'][1] }}"

  - cname: ns-3
    real: "{{ groups['dns_servers'][2] }}"

  - cname: haproxy-1
    real: "{{ groups['application'][0] }}"

  - cname: haproxy-2
    real: "{{ groups['application'][1] }}"

  - cname: keepalived-1
    real: "{{ groups['application'][0] }}" 

  - cname: keepalived-2
    real: "{{ groups['application'][1] }}"

  - cname: db-1
    real: "{{ groups['application'][0] }}"

  - cname: db-2
    real: "{{ groups['application'][1] }}" 

  - cname: grafana
    real: "{{ groups['internal'][0] }}"

  - cname: influxdb
    real: "{{ groups['influxdb'][0] }}" 

  - cname: nginx
    real: "{{ groups['internal'][0] }}" 

  - cname: prometheus
    real: "{{ groups['internal'][0] }}" 